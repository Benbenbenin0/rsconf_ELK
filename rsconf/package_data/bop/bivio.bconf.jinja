# -*-perl-*-
use {{ bop.perl_root }}::BConf;
{{ bop.perl_root }}::BConf->merge_dir({
    'Bivio::Agent::Request' => {
        can_secure => {{ bop.can_secure | int }},
    },
    'Bivio::Biz::File' => {
        root => '/var/db/bop',
        backup_root => '/var/bkp/bop',
    },
    'Bivio::Biz::Model::CRMForm' => {
        want_status_email => 0,
    },
    'Bivio::Delegate::Cookie' => {
        tag => '{{ bop.cookie_tag }}',
    },
    'Bivio::Ext::DBI' => {
        password => '{{ bop.dbi_password }}',
        template1 => {
            password => '{{ postgresql.postgres_password }}',
        },
        dbms => {
            password => '{{ postgresql.postgres_password }}',
        },
    },
    'Bivio::IO::Alert' => {
        want_time => 1,
        want_pid => 1,
    },
    'Bivio::IO::Config' => {
        is_production => {{ bop.is_production | int }},
    },
    'Bivio::IO::Log' => {
        directory => '/var/log/bop',
    },
    'Bivio::Type::Secret' => {
        algorithm => '{{ bop.secret.algorithm }}',
        key => pack('h*', '{{ bop.secret.key_hex }}'),
        magic => '{{ bop.secret.magic }}',
    },
    'Bivio::UI::Facade' => {
        local_file_root => '/var/www/facades',
        want_local_file_cache => 1,
        http_host => '{{ bop.http_host }}',
        mail_host => '{{ bop.mail_host }}',
    },
    'Bivio::UI::HTML::Widget::SourceCode' => {
        source_dir => '{{ bop.source_code_d }}',
    },
    'Bivio::Util::HTTPLog' => {
        error_file => '/var/log/httpd/error_log',
        # avoid spambots
        email => 'errors' . '@' . 'bivio.biz',
        pager_email => 'critical-errors' . '@' . 'bivio.biz',
    },
{{ bop.bconf_aux }}
});
